<h2>
  <%= gettext("Participants") %>
  <br>
  <small><%= name_with_flag(@contest) %></small>
</h2>

<hr>

<div class="table-responsive">
  <table class="table table-striped">
    <thead>
      <tr>
        <th><%= gettext("Last name") %></th>
        <th><%= gettext("First name") %></th>
        <th><%= gettext("Birthdate") %></th>
        <th><%= gettext("Appearances") %></th>
      </tr>
    </thead>
    <tbody>
      <%= for participant <- @participants do %>
      <tr>
        <td>
          <%= link participant.family_name,
            to: internal_contest_participant_path(@conn, :show, @contest, participant)
            %>
        </td>
        <td>
          <%= link participant.given_name,
            to: internal_contest_participant_path(@conn, :show, @contest, participant)
            %>
        </td>
        <td><%= format_date(participant.birthdate, :full) %></td>
        <td>
          <%= for p <- participant.performances do %>
            <%= link PerformanceView.category_name(p),
              to: internal_contest_performance_path(@conn, :show, @contest, p)
              %>
            <br>
          <% end %>
        </td>
      </tr>
      <% end %>
    </tbody>
  </table>
</div>
